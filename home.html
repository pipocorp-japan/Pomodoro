<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <script type="text/javascript" src="coolclock.js"></script>
    </head>
    <body onload="CoolClock.findAndCreateClocks()">
        <button type="button" id="opensetting">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg>
        </button>
        <canvas id="clockid" class="CoolClock:Skin:Radius:noSeconds:GMTOffset">
        </canvas>
        <button type="button" id="start">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M520-120v-80h320v80H520ZM221-600h139v-160h-69l-70 160Zm419 360v-400q0-17-11.5-28.5T600-680H440v120q0 17-11.5 28.5T400-520H160q-22 0-34-18t-3-38l95-216q10-22 29.5-35t43.5-13h69q33 0 56.5 23.5T440-760h160q50 0 85 35t35 85v400h-80ZM221-600h139-139Z"/></svg>
            スタート
        </button>
        <button type="button" id="viewR">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M80-120v-80h800v80H80Zm40-120v-280h120v280H120Zm200 0v-480h120v480H320Zm200 0v-360h120v360H520Zm200 0v-600h120v600H720Z"/></svg>
            記録を見る
        </button>
        <script>
            // home.htmlのJavaScript (scriptタグ内に直接記述)

// DOMContentLoaded イベントで初期化処理を実行
document.addEventListener('DOMContentLoaded', () => {
    const opensettingBtn = document.getElementById('opensetting');
    const startBtn = document.getElementById('start');
    const viewRBtn = document.getElementById('viewR');

    // 設定ボタンのイベントリスナー
    opensettingBtn.addEventListener('click', () => {
        // 親ウィンドウに設定ダイアログを開くようメッセージを送信
        window.parent.postMessage({ type: 'openSettings' }, '*');
    });

    // スタートボタンのイベントリスナー
    startBtn.addEventListener('click', () => {
        // 親ウィンドウにタイマーを開始するようメッセージを送信
        window.parent.postMessage({ type: 'startTimer' }, '*');
    });

    // 記録を見るボタンのイベントリスナー（現時点ではコンソールログのみ）
    viewRBtn.addEventListener('click', () => {
        // TODO: 記録表示機能の実装
        alert("記録を見る機能はまだ実装されていません。");
        console.log("記録を見るボタンがクリックされました。");
    });

    // 親ウィンドウからテーマカラー変更のメッセージを受け取る
    window.addEventListener('message', (event) => {
        const message = event.data;
        if (message.type === 'applyTheme') {
            document.body.style.backgroundColor = message.color;
        }
    });

    // CoolClockを初期化
    // home.htmlのbody onloadでCoolClock.findAndCreateClocks()が呼ばれるので、
    // ここで改めて呼ぶ必要はありませんが、念のため記述しておきます。
    // CoolClock.findAndCreateClocks();
});

        </script>
    </body>
</html>